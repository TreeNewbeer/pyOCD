# pyOCD debugger
# Copyright (c) 2006-2013 Arm Limited
# Copyright (c) 2021 Chris Reed
# SPDX-License-Identifier: Apache-2.0
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

from unicodedata import name
from ...coresight.coresight_target import CoreSightTarget
from ...core.memory_map import (FlashRegion, RamRegion, MemoryMap)

FLASH_ALGO = {
    'load_address' : 0x20000000,

    # Flash algorithm as a hex string
    'instructions': [
    0xe00abe00,
    0xf240b510, 0xf2c00004, 0xf2400000, 0x44480414, 0x0400f2c0, 0xf8492a03, 0xd0140004, 0xf2c42018,
    0x68016002, 0xf3622207, 0x60014195, 0x0004f859, 0xfea3f000, 0xd4062800, 0xf8594601, 0xbf180004,
    0xf0002101, 0x2000f9c7, 0xf240bd10, 0x21000214, 0x0200f2c0, 0xf8492000, 0x47701002, 0xf240b510,
    0xf2c00414, 0xf8590400, 0x21000004, 0xfafdf000, 0x0004f859, 0xf44f2100, 0xf0000200, 0xf859fa7f,
    0x21010004, 0xfaf1f000, 0xbd102000, 0xf1b0b570, 0xd2015fc0, 0xe0172401, 0x0614f240, 0x0600f2c0,
    0xf8594605, 0x21000006, 0xf0002400, 0xf859fade, 0xf1050006, 0xf44f4168, 0xf0005280, 0xf859fa5f,
    0x21010006, 0xfad1f000, 0xbd704620, 0x41f0e92d, 0x5fc0f1b0, 0x2401d201, 0xf240e019, 0xf2c00814,
    0x46070800, 0x0008f859, 0x2100460e, 0x24004615, 0xfabbf000, 0x0008f859, 0x4168f107, 0x4633462a,
    0xf9def000, 0x0008f859, 0xf0002101, 0x4620faae, 0x81f0e8bd, 0x42937803, 0x2001bf1c, 0x39014770,
    0x0001f100, 0x2000bf04, 0xe7f34770, 0x460cb5b0, 0x46224611, 0xf0004605, 0x1961ff3c, 0xbdb04408,
    0x6806b570, 0x7280f240, 0x0202f2c0, 0x79404604, 0x6c326132, 0xf022460d, 0x441002ff, 0x79206430,
    0x46202800, 0xf000d003, 0xb130fd58, 0xf000bd70, 0x2800fd80, 0x2001d1fa, 0x2005e000, 0x46206530,
    0xf000b175, 0x2800fda2, 0x2030d1f0, 0x5000f2cf, 0x0080f8c6, 0x7007f240, 0x0090f8c6, 0xbd702000,
    0xfdbff000, 0xd1e12800, 0x4075f04f, 0x0080f8c6, 0xf8c62000, 0xbd700090, 0x47706101, 0x47706c00,
    0x47706401, 0x47706900, 0x47706940, 0x47706141, 0x47706b00, 0x47706301, 0x47706b40, 0x47706b80,
    0x47706381, 0x47706bc0, 0x477063c1, 0x47706a00, 0x47706201, 0x47706a40, 0x47706241, 0x47706a80,
    0x47706281, 0x47706ac0, 0x477062c1, 0xb088b510, 0x5400f04f, 0x4e80f04f, 0x7141ea04, 0x6470f04f,
    0x7080ea0e, 0x6202ea04, 0xe028f8dd, 0xe9cd9000, 0xf24f1201, 0xf2c00100, 0xf44f011f, 0xf8dd62c0,
    0xea01c02c, 0xea023103, 0xf36f224e, 0xe9cd2c5f, 0x21011203, 0xf8cd466a, 0xbf00c014, 0x3021f852,
    0x29063101, 0x0003ea40, 0xb008d1f8, 0xb5f0bd10, 0xf04fb089, 0xf04f5700, 0xea074680, 0xf04f7741,
    0xea066170, 0xea017080, 0x90006202, 0x7201e9cd, 0x0200f24f, 0xf2c09e0e, 0xe9dd021f, 0xea02540f,
    0xf44f3203, 0xea0363c0, 0xe9dd2346, 0xe9cdec11, 0xf04f2303, 0xea025280, 0xf36f7204, 0xf44f255f,
    0xe9cd1300, 0xea4f5205, 0xea03528e, 0x4669534c, 0xf282fa3f, 0xe9cd3104, 0x22002307, 0x3022f851,
    0x2a083201, 0x0003ea40, 0xb009d1f8, 0x6800bdf0, 0x6b404770, 0x0001f000, 0xf2404770, 0xbf0031e7,
    0x07d26b42, 0x2000bf04, 0x39014770, 0xf04fbf04, 0x477030ff, 0x6b40e7f4, 0x4080f400, 0xf2404770,
    0xbf0031e7, 0x04526b42, 0x2000bf5c, 0x39014770, 0xf04fbf04, 0x477030ff, 0x6b40e7f4, 0x2004f3c0,
    0x6b014770, 0x0106f041, 0x47706301, 0x210062c1, 0x62416202, 0x62034770, 0x62416282, 0xbf004770,
    0x6b426b43, 0xd00d07db, 0xd4f90452, 0xf3c26b42, 0x2a002204, 0xbf00d0f4, 0x3a016ac3, 0x3b04f841,
    0xe7edd1fa, 0x2204f3c2, 0xbf00b12a, 0x3a016ac3, 0x3b04f841, 0x4770d1fa, 0x1d93b580, 0xd3182b07,
    0x17d33203, 0x7293eb02, 0x0e00f04f, 0x0ca2ea4f, 0x52faf44f, 0x021b6b43, 0x3a01d504, 0xbd80bf08,
    0xbf00e7f8, 0x2b04f851, 0x0e01f10e, 0x62c245e6, 0xbd80d3ee, 0x4604b510, 0x22016880, 0xb92071e2,
    0x7020f64b, 0x0002f2c0, 0x79a060a0, 0x2028b110, 0x8811f380, 0xf7ff4620, 0x79a1fea3, 0x2100b111,
    0x8811f381, 0xb510bd10, 0x4604b180, 0xb1107980, 0xf3802028, 0x46208811, 0xf80bf000, 0x290079a1,
    0xbd10bf08, 0xf3812100, 0xbd108811, 0x30fff04f, 0xe92dbd10, 0xb08145f0, 0xf012468a, 0x46140103,
    0xf1c1bf18, 0x1a5a0104, 0xf04f461e, 0xbf880700, 0xbf88460e, 0x0703f022, 0xf04f428b, 0xbf880500,
    0x0503f002, 0xb16e4680, 0x4640466a, 0x46334651, 0xfb5bf000, 0x4669bb08, 0x46324620, 0xfdc5f000,
    0x44b24434, 0x4640b147, 0x46224651, 0xf000463b, 0xb990fb4c, 0x44ba443c, 0x466ab175, 0x46514640,
    0xf000462b, 0xb940fb42, 0xbf004668, 0x1b01f810, 0xf8043d01, 0xd1f91b01, 0xb0012000, 0x85f0e8bd,
    0xb110b510, 0x79c04604, 0xf04fb110, 0xbd1030ff, 0xb11079a0, 0xf3802028, 0x46208811, 0xf808f000,
    0x290079a1, 0xbd10bf08, 0xf3812100, 0xbd108811, 0x4df0e92d, 0x468ab082, 0x0103f012, 0xbf184615,
    0x0104f1c1, 0x461c1a5a, 0x0700f04f, 0x460cbf88, 0xf022bf88, 0x428b0703, 0x0600f04f, 0xf002bf88,
    0x46800603, 0xf10db17c, 0x46580b04, 0x46224629, 0xfd6bf000, 0x46514640, 0x4623465a, 0xfac0f000,
    0x4425b9c8, 0xb14744a2, 0x46514640, 0x463b462a, 0xfab6f000, 0x443db978, 0x200044ba, 0xa901b15e,
    0x540a5c2a, 0x42863001, 0xaa01d1fa, 0x46514640, 0xf0004633, 0xb002faa5, 0x8df0e8bd, 0xb110b510,
    0x79c04604, 0xf04fb110, 0xbd1030ff, 0xb11079a0, 0xf3802028, 0x46208811, 0xf808f000, 0x290079a1,
    0xbd10bf08, 0xf3812100, 0xbd108811, 0x4df0e92d, 0x460bb084, 0x331ff36f, 0xf602441a, 0x27007bff,
    0x3f1bebb7, 0x4605d04d, 0x70fff640, 0x0600ea21, 0x301bea4f, 0x90022400, 0xf0004628, 0x2800fa01,
    0xf5bbd13e, 0xd3073f80, 0xb928b2b0, 0x0810f04f, 0x3a80f44f, 0xe01a2111, 0xf36f4631, 0xea4f31df,
    0xfab130db, 0xebb7f181, 0xbf183fdb, 0x09492001, 0xf04f4008, 0xf44f0105, 0xbf185a80, 0xf04f2110,
    0xbf180801, 0x4a00f44f, 0xf04fbf18, 0x97000808, 0x46324628, 0xaf032300, 0xf0009701, 0xb978f839,
    0xf0004628, 0xb958f9fe, 0xeb069902, 0x4444000a, 0xf500428c, 0xf04f5680, 0xd3bd0700, 0xe0002700,
    0x46384607, 0xe8bdb004, 0x28008df0, 0xf04fbf0e, 0x71c130ff, 0x47702000, 0x30fff04f, 0xf6404770,
    0xf44f70ff, 0xea215c80, 0x0b0b0000, 0x0c00e9c2, 0x60932000, 0xb2c04770, 0x427ff44f, 0x2211ea02,
    0x6001ea40, 0x417ff401, 0xea404410, 0x47702001, 0x4df0e92d, 0xf8d0b086, 0x4607a000, 0x469b4650,
    0x460c4616, 0xfe19f7ff, 0xf0402800, 0x4650811c, 0xfe37f7ff, 0xf04f2c13, 0xf20030ff, 0xf8dd8116,
    0x25058038, 0xf014e8df, 0x0033001d, 0x004100f7, 0x005b004e, 0x007f0066, 0x0095008a, 0x011100ac,
    0x00c600b9, 0x001400cf, 0x00dc00d1, 0x001400f6, 0xea4f2c0f, 0xbf142006, 0x0411f040, 0x0431f040,
    0x7938e0aa, 0xf1ab2800, 0xf0000001, 0x270180fa, 0xe9cd2102, 0xe9cd7000, 0x20017102, 0x22092101,
    0x97042300, 0xfd93f7ff, 0x21eb4603, 0x2002e0f7, 0x90012700, 0x21002000, 0x23002203, 0xf7ff9700,
    0x4602fd55, 0x219f4650, 0x2700e0c1, 0x21002000, 0x23002201, 0x97019700, 0xfd48f7ff, 0x46504602,
    0xe0a32106, 0x20002700, 0x22012100, 0x97002300, 0xf7ff9701, 0x4602fd3b, 0x21044650, 0xf04fe096,
    0xea0020ff, 0xf4062036, 0xea40417f, 0xf1002001, 0xe07f0420, 0x28007938, 0x80cbf000, 0x20022700,
    0x0301f1ab, 0x7700e9cd, 0x7002e9cd, 0x21012001, 0x97042201, 0xfd4bf7ff, 0x46504603, 0x46322132,
    0xfdb9f7ff, 0xf04fe0cd, 0xea0020ff, 0xf4062036, 0xea40417f, 0xf1002001, 0xe05b0436, 0x20fff04f,
    0x2036ea00, 0x417ff406, 0x2001ea40, 0x0439f100, 0xf04fe050, 0xea0020ff, 0xf4062036, 0xea40417f,
    0x27002001, 0x043cf100, 0x21002000, 0x23032203, 0x97019700, 0xfceaf7ff, 0x46504602, 0xe0564621,
    0x20002700, 0x22032100, 0x97002300, 0xf7ff9701, 0x4602fcdd, 0x212b4650, 0x2700e049, 0x21002000,
    0x23002201, 0x97019700, 0xfcd0f7ff, 0x46504602, 0xe02b2198, 0x1c440230, 0x20002700, 0x22012100,
    0x97002301, 0x2535e01c, 0xf04fe025, 0xea0020ff, 0xf4062036, 0xea40417f, 0xf1002001, 0xe0090452,
    0x20fff04f, 0x2036ea00, 0x417ff406, 0x2001ea40, 0x04d8f100, 0x97002700, 0x21002000, 0x23032201,
    0xf7ff9701, 0x4602fca3, 0x46214650, 0xfd3ef7ff, 0xe0132600, 0x27002515, 0x21002000, 0x23002203,
    0x97019700, 0xfc92f7ff, 0x46504602, 0xf7ff4629, 0x4650fd2d, 0xfd13f7ff, 0x4606b170, 0xf7ff4650,
    0x4330fcfc, 0xf04fd004, 0xb00630ff, 0x8df0e8bd, 0x6007980f, 0xe7f82000, 0xf7ff4650, 0x4607fc73,
    0x2700e7d6, 0x7000e9cd, 0x21012001, 0x23002209, 0x7702e9cd, 0xf7ff9704, 0x4603fc9a, 0x4650210b,
    0xf7ff4632, 0x4650fd08, 0x465a4641, 0xfd07f7ff, 0xf04fe01c, 0xea0020ff, 0xf4062036, 0xea40417f,
    0xf10b2001, 0x1c840303, 0x20002700, 0x22012100, 0x97019700, 0xfc4af7ff, 0x46504602, 0xf7ff4621,
    0x4650fce5, 0x465a4641, 0xfd06f7ff, 0xe79f2700, 0xb084b570, 0xf0004604, 0xb9f8f823, 0xad032000,
    0x46209000, 0x2200210c, 0x95012300, 0xfe80f7ff, 0x4620b9a0, 0xf845f000, 0x2600b980, 0x21094620,
    0x23002200, 0x96009501, 0xfe72f7ff, 0xf89db930, 0x28ff000c, 0xf04fbf08, 0x463036ff, 0xbd70b004,
    0xb083b5f0, 0x20004604, 0x9000ad02, 0x21034620, 0x23002200, 0xf7ff9501, 0xb110fe5b, 0x30fff04f,
    0x68a0e01d, 0xd3162802, 0x27002601, 0x21024620, 0x23002200, 0x95019700, 0xfe4af7ff, 0xd1ed2800,
    0xf0109802, 0xd1e90f3c, 0xd4050781, 0x360168a1, 0xd3eb428e, 0x9802e000, 0x0040f3c0, 0xb0033801,
    0xb5f0bdf0, 0x4605b083, 0x24006880, 0xd3192802, 0xaf022601, 0x21024628, 0x23002200, 0x97019400,
    0xfe26f7ff, 0x9802b960, 0xd0030781, 0x360168a9, 0xd3ef428e, 0x0403f010, 0xf04fbf18, 0xe00134ff,
    0x34fff04f, 0xb0034620, 0xb5b0bdf0, 0x6805b084, 0x46284604, 0xfb92f7ff, 0x01fff040, 0xf7ff4628,
    0x4628fb8f, 0xfb8af7ff, 0xad032000, 0x46209000, 0x22002101, 0x95012300, 0xfdfaf7ff, 0xbdb0b004,
    0x45f0e92d, 0x461cb083, 0x460e4615, 0xf10d4680, 0xbf000a08, 0xf5c0b2f0, 0x46407780, 0xbf8842a7,
    0xf7ff4627, 0xb990ff7d, 0x21064640, 0x463b4632, 0xf8cd9500, 0xf7ffa004, 0xb940fddb, 0xf7ff4640,
    0xb920ffa0, 0x1be4443e, 0xd1e3443d, 0xb0032000, 0x85f0e8bd, 0xbfb82a01, 0xbf004770, 0x3b01f811,
    0xf8003a01, 0xd1f93b01, 0xe92d4770, 0xb08345f0, 0x461fb1d3, 0x460e4615, 0xf10d4680, 0xbf000a08,
    0xf5b7463c, 0xbf287f00, 0x7400f44f, 0x21004640, 0x46234632, 0xf8cd9500, 0xf7ffa004, 0xb920fda9,
    0x1b3f4426, 0xd1eb4425, 0xb0032000, 0x85f0e8bd, 0xb084b570, 0xae032500, 0x22002102, 0x46042300,
    0x95009503, 0xf7ff9601, 0x9803fd93, 0x013cf040, 0xf0004620, 0x4620f80b, 0x22002102, 0x95002300,
    0xf7ff9601, 0x2000fd85, 0xbd70b004, 0xb084b5b0, 0x4604460d, 0xff14f7ff, 0x2000b978, 0x0c0cf10d,
    0x46209000, 0x462a210d, 0xf8cd2300, 0xf7ffc004, 0xb910fd6f, 0xf7ff4620, 0xb004ff34, 0xb570bdb0,
    0x2500b084, 0x2102ae03, 0x23002200, 0x95034604, 0x96019500, 0xfd5cf7ff, 0xf0209803, 0x4620013c,
    0xffd4f7ff, 0x21024620, 0x23002200, 0x96019500, 0xfd4ef7ff, 0xb0042000, 0xb5b0bd70, 0x4604b084,
    0xad022000, 0x46209000, 0x2200210e, 0x95012300, 0xfd3ef7ff, 0x9802b9d8, 0xd4170781, 0x0502f040,
    0x95024620, 0xfeccf7ff, 0x2000b988, 0x0c0cf10d, 0x46209000, 0x462a210f, 0xf8cd2300, 0xf7ffc004,
    0xb920fd27, 0xf7ff4620, 0xe000feec, 0xb0042000, 0xb5b0bdb0, 0x4604b084, 0xad022000, 0x46209000,
    0x2200210e, 0x95012300, 0xfd12f7ff, 0x9802b9d8, 0xd4010781, 0xe0162000, 0x0502f020, 0x95024620,
    0xfe9ef7ff, 0x2000b978, 0x0c0cf10d, 0x46209000, 0x462a210f, 0xf8cd2300, 0xf7ffc004, 0xb910fcf9,
    0xf7ff4620, 0xb004febe, 0xb5b0bdb0, 0x4604b084, 0xad022000, 0x46209000, 0x22002112, 0x95012300,
    0xfce6f7ff, 0x9802b9d8, 0xd11707c1, 0x0501f040, 0x95024620, 0xfe74f7ff, 0x2000b988, 0x0c0cf10d,
    0x46209000, 0x462a2113, 0xf8cd2300, 0xf7ffc004, 0xb920fccf, 0xf7ff4620, 0xe000fe94, 0xb0042000,
    0xb5b0bdb0, 0x4604b084, 0xad022000, 0x46209000, 0x22002112, 0x95012300, 0xfcbaf7ff, 0x9802b9d8,
    0xd10107c1, 0xe0162000, 0x0501f020, 0x95024620, 0xfe46f7ff, 0x2000b978, 0x0c0cf10d, 0x46209000,
    0x462a2113, 0xf8cd2300, 0xf7ffc004, 0xb910fca1, 0xf7ff4620, 0xb004fe66, 0xb580bdb0, 0x2100b084,
    0x0c0cf10d, 0x21129100, 0x23002200, 0xc004f8cd, 0xfc8ef7ff, 0x31fff04f, 0x28009a03, 0xf002bf08,
    0x46080101, 0xbd80b004, 0xb348b510, 0xd04a2801, 0xd16e2802, 0xf2c4200c, 0x68026020, 0xf3632303,
    0x60020204, 0xf2c4203c, 0x68426000, 0xf3632301, 0x60425216, 0xf3636842, 0x604252d9, 0xf0426842,
    0x60426280, 0xf4426842, 0x60422200, 0xf2c42000, 0xf2405010, 0xf5000210, 0xf2c01080, 0xe0450200,
    0xf2c4200c, 0x68026020, 0xf3632302, 0x60020204, 0xf2c4203c, 0x68026000, 0x5216f363, 0x68026002,
    0xf3632301, 0x600252d9, 0xf0426802, 0x60026280, 0xf4426802, 0x60022200, 0x0210f240, 0x0200f2c0,
    0x408af04f, 0x200ce022, 0x6020f2c4, 0x23036802, 0x0204f363, 0x203c6002, 0x6000f2c4, 0x23016842,
    0x1206f363, 0x68426042, 0x12c9f363, 0x68426042, 0x6280f442, 0x68426042, 0x0208f042, 0xf2406042,
    0x20000210, 0x0200f2c0, 0x5010f2c4, 0x0002f849, 0xf240e005, 0xf2c00010, 0xf8590000, 0xf2430000,
    0x01096c00, 0x1c6ef2c0, 0xf3f1fbbc, 0xf64c2200, 0x60422400, 0xf6cf1c5a, 0xfb026491, 0xf8d04401,
    0x2c00e00c, 0xfb02bf48, 0xfb03c411, 0xf04ec111, 0xf8c00e80, 0x42a1e00c, 0x4613bfc8, 0x6001b2d9,
    0x2107f3c3, 0x68c16041, 0x0180f021, 0x68c160c1, 0x0108f021, 0x68c160c1, 0x0103f041, 0x68c160c1,
    0x0104f021, 0x212060c1, 0x68816081, 0x0101f041, 0xbd106081, 0x0110f240, 0x0100f2c0, 0x1001f859,
    0x0652694a, 0x6008d5fc, 0x78014770, 0xf240b171, 0xf2c00210, 0xf8590200, 0xbf002002, 0x065b6953,
    0x6011d5fc, 0x1f01f810, 0xd1f72900, 0xb5104770, 0x2200b081, 0x0c10f240, 0x2002f88d, 0x0230f647,
    0x0c00f2c0, 0x2000f8ad, 0x200cf859, 0x233046ee, 0x06646954, 0x6013d5fc, 0x3f01f81e, 0xd1f72b00,
    0xd4143904, 0x200cf859, 0xf301fa20, 0x030ff003, 0x0c37f103, 0x06646954, 0x2b0ad5fc, 0xf103bf38,
    0x39040c30, 0x3ffff1b1, 0xc000f8c2, 0xb001dcec, 0xea40bd10, 0xb5100301, 0xd10f079b, 0xd30d2a04,
    0xc908c810, 0x429c1f12, 0xba20d0f8, 0x4288ba19, 0x2001d901, 0xf04fbd10, 0xbd1030ff, 0x07d3b11a,
    0x1c52d003, 0x2000e007, 0xf810bd10, 0xf8113b01, 0x1b1b4b01, 0xf810d107, 0xf8113b01, 0x1b1b4b01,
    0x1e92d101, 0x4618d1f1, 0x2a03bd10, 0x8030f240, 0x0c03f010, 0x8015f000, 0x3b01f811, 0x0f02f1bc,
    0xbf984462, 0xcb01f811, 0x3b01f800, 0xf811bf38, 0xf1a23b01, 0xbf980204, 0xcb01f800, 0xf800bf38,
    0xf0113b01, 0xf0000303, 0x3a088025, 0x8008f0c0, 0x3b04f851, 0xf8513a08, 0xe8a0cb04, 0xe7f51008,
    0xbf5c1d12, 0x3b04f851, 0x3b04f840, 0x8000f3af, 0xbf2407d2, 0x3b01f811, 0xcb01f811, 0xf811bf48,
    0xbf242b01, 0x3b01f800, 0xcb01f800, 0xf800bf48, 0x47702b01, 0x3a20b510, 0x800bf0c0, 0x5018e8b1,
    0x5018e8a0, 0x5018e8b1, 0x5018e8a0, 0xf4bf3a20, 0xea5faff5, 0xbf247c02, 0x5018e8b1, 0x5018e8a0,
    0xc918bf44, 0xe8bdc018, 0xea5f4010, 0xbf247c82, 0x3b04f851, 0x3b04f840, 0x4770bf08, 0xbf2807d2,
    0x3b02f831, 0xf811bf48, 0xbf282b01, 0x3b02f820, 0xf800bf48, 0x47702b01, 0x00007830, 0x00000000,
    0x46400000, 0x00000004, 0x00000000, 0x00000000, 0x00000000
    ],

    # Relative function addresses
    'pc_init': 0x20000005,
    'pc_unInit': 0x2000004f,
    'pc_program_page': 0x200000d1,
    'pc_erase_sector': 0x20000091,
    'pc_eraseAll': 0x20000061,

    'static_base' : 0x20000000 + 0x00000004 + 0x000010fc,
    'begin_stack' : 0x20001310,
    'begin_data' : 0x20000000 + 0x1000,
    'page_size' : 0x1000,
    'analyzer_supported' : False,
    'analyzer_address' : 0x00000000,
    'page_buffers' : [0x20001000, 0x20002000],   # Enable double buffering
    'min_program_length' : 0x1000,

    # Relative region addresses and sizes
    'ro_start': 0x0,
    'ro_size': 0x10fc,
    'rw_start': 0x10fc,
    'rw_size': 0x10,
    'zi_start': 0x110c,
    'zi_size': 0x8,

    # Flash information
    'flash_start': 0x18000000,
    'flash_size': 0x800000,
    'sector_sizes': (
        (0x0, 0x1000),
    )
}

class CSK6(CoreSightTarget):

    VENDOR = "Listenai"

    MEMORY_MAP = MemoryMap(
        FlashRegion(start=0x18000000,
                    length=0x800000,
                    access='rx',
                    sector_size= 0x1000,
                    page_size=0x100,
                    is_boot_memory=True,
                    algo=FLASH_ALGO),
        RamRegion(  name='sram1',   start=0x80000,  length=0x50000, access='srwx'),
        RamRegion(  name='sram2',   start=0x28000000,  length=0xc0000, access='srwx', default=False),
        RamRegion(  name='psram1',   start=0x30000000,  length=0x800000, access='srwx'),
        )

    def __init__(self, session):
        super(CSK6, self).__init__(session, self.MEMORY_MAP)
